# ==========================================
# 한국 디지털 교과서 플랫폼 환경변수 설정
# ==========================================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값을 입력하세요.
# .env 파일은 절대 Git에 커밋하지 마세요!
# 
# 보안 키 생성 방법:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ==========================================
# 기본 설정
# ==========================================
NODE_ENV=development
PORT=4000
FRONTEND_PORT=3000

# ==========================================
# 데이터베이스 설정
# ==========================================
DATABASE_URL=postgresql://user:password@localhost:5432/digitalbook
# 프로덕션: postgresql://user:password@host:5432/digitalbook?sslmode=require

# ==========================================
# Redis 설정
# ==========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ==========================================
# JWT 인증 설정 (필수! 32자 이상 랜덤 문자열)
# ==========================================
JWT_SECRET=CHANGE_THIS_USE_CRYPTO_RANDOM_BYTES_32_HEX
JWT_REFRESH_SECRET=CHANGE_THIS_DIFFERENT_FROM_JWT_SECRET
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# 세션 설정
# ==========================================
SESSION_SECRET=CHANGE_THIS_USE_CRYPTO_RANDOM_BYTES_32_HEX
SESSION_MAX_AGE=86400000

# ==========================================
# 암호화 설정
# ==========================================
ENCRYPTION_KEY=CHANGE_THIS_32_BYTES_HEX_STRING
ENCRYPTION_IV=CHANGE_THIS_16_BYTES_HEX_STRING

# ==========================================
# API URL 설정
# ==========================================
NEXT_PUBLIC_API_URL=http://localhost:4000/api
NEXT_PUBLIC_WS_URL=ws://localhost:4000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ==========================================
# AI 서비스 API 키
# ==========================================
OPENAI_API_KEY=sk-...
OPENAI_ORGANIZATION=org-...

# NextAuth (기존 호환성)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=CHANGE_THIS_USE_CRYPTO_RANDOM_BYTES_32_HEX

# ==========================================
# 이메일 서비스 설정
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@xn--220bu63c.com

# ==========================================
# AWS/Storage 설정
# ==========================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=ap-northeast-2
AWS_S3_BUCKET=digitalbook-uploads
S3_BUCKET_NAME=digitalbook-uploads

# ==========================================
# 모니터링 및 로깅
# ==========================================
SENTRY_DSN=
LOG_LEVEL=info
ENABLE_TELEMETRY=false

# ==========================================
# 보안 설정
# ==========================================
# 프로덕션에서는 특정 도메인만 허용
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_ROUNDS=12

# ==========================================
# 파일 업로드 설정
# ==========================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,video/mp4
UPLOAD_DIR=./uploads

# ==========================================
# 게스트 액세스 설정
# ==========================================
GUEST_ACCESS_DURATION=3600000
GUEST_ACCESS_MAX_QUESTIONS=50

# ==========================================
# 프론트엔드 공개 변수
# ==========================================
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_SENTRY_DSN=

# ==========================================
# 개발 환경 설정
# ==========================================
DEBUG=false
MOCK_AUTH=false
SEED_DATABASE=false